<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Party Arrival</title>
</head>
<body>
    <header>
        <h1>AdventureVerse</h1>
        <nav>
            <ul>
                <li><a href="#" id="startOverLink">Start over</a></li>
                <!-- Add more navigation links as needed -->
            </ul>
        </nav>
    </header>

    <h1>Party Arrival Status</h1>
    <p id="arrivalStatus"></p>
    
    <!-- New element to display the character stored locally -->
    <p id="storedCharacter"></p>

    <script>
        // Retrieve character and days from local storage
        var character = JSON.parse(localStorage.getItem("character"));
        var days = localStorage.getItem("days");
        var pathLength = "short"; // Assuming the path length is short for demonstration

        // Function to check if the character is on time based on the number of days and the path length
        function onTimeCalc(numberOfDays, pathLength) {
            if ((numberOfDays >= 1 && numberOfDays <= 10 && pathLength === "short") ||
                (numberOfDays >= 11 && numberOfDays <= 20 && pathLength === "medium") ||
                (numberOfDays >= 21 && numberOfDays <= 30 && pathLength === "long")) {
                return true; // Character is on time
            } else {
                return false; // Character is not on time
            }
        }

        // Function to check if the character is late based on the number of days and the path length
        function isLate(numberOfDays, pathLength) {
            if (numberOfDays <= 10 && pathLength === "long") {
                return true; // Character is late
            } else {
                return false; // Character is not late
            }
        }

        // Function to check if the character is early based on the number of days and the path length
        function isEarly(numberOfDays, pathLength) {
            if ((numberOfDays > 10 && numberOfDays <= 20 && pathLength === "short") ||
                (numberOfDays > 20 && pathLength === "medium") ||
                (numberOfDays > 30)) {
                return true; // Character is early
            } else {
                return false; // Character is not early
            }
        }

        // Display the stored character
        document.getElementById("storedCharacter").textContent = "Character: " + character.name;

        // Calculate arrival status using functions
        var onTime = onTimeCalc(days, pathLength);
        var late = isLate(days, pathLength);
        var early = isEarly(days, pathLength);

        // Display arrival status based on calculations
        if (onTime) {
            document.getElementById("arrivalStatus").textContent = "Arrived on time!";
        } else if (late) {
            document.getElementById("arrivalStatus").textContent = "Arrived late!";
        } else if (early) {
            document.getElementById("arrivalStatus").textContent = "Arrived early!";
        } else {
            document.getElementById("arrivalStatus").textContent = "Status unknown.";
        }

        // Event listener for the "Start over" link
        document.getElementById("startOverLink").addEventListener("click", function(event) {
            event.preventDefault(); // Prevent the default behavior of the link
            localStorage.clear(); // Clear local storage
            // Redirect to the index.html page or any other appropriate page
            window.location.href = "index.html";
        });
    </script>
</body>
</html>